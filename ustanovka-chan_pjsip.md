# Установка chan\_pjsip

До версии Asterisk 13.8 Установка chan\_pjsip была не тривиальна. Требовалось вручную скачать с git. И скомпилировать с нужными флагами https://wiki.asterisk.org/wiki/display/AST/PJSIP-pjproject.

Иногда это вызывало проблемы, особенно если вы использовали сторонний собранный пакет. У меня была ситуация когда после обновления астериск начал утекать по памяти и падать каждые сутки из-за того что обновленный пакет asterisk был собран со старой версией pjlib. Думаю это одна из причин которая отталкивала пользователей от использования нового драйвера.

Но с версии Asterisk 13.8 разработчики значительно упростили сборку pjsip \(https://blogs.asterisk.org/2016/03/16/asterisk-13-8-0-now-easier-pjsip-install-method/\). Теперь для сборки pjsip достаточно указать опцию:

```text
#  ./configure --with-pjproject-bundled
```

Таким образом будет загружен код последней протестированной библиотеки с сайта pjproject. А также, будут применены все необходимые патчи от команды Asterisk.

В настоящее время это официально рекомендуемый способ сборки Asterisk c PJSIP. Начиная с 15 версии Asterisk он используется по умолчанию.

{% hint style="info" %}
Проверить текущую версию pjsip можно с помощью команды из консоли Asterisk 

&gt;`pjsip show version`



PJPROJECT version currently running against: 2.7
{% endhint %}

{% hint style="info" %}
Более подробную информацию можно получить командой

`pjproject show buildopts`
{% endhint %}



